FROM node:lts-buster
ARG BRANCH=master
RUN apt-get update && \
    apt-get install --no-install-recommends -y awscli jq
RUN cd /usr/local/src/ \
  && git clone https://github.com/trendscenter/coinstac.git \
  && cd coinstac \
  && git checkout $BRANCH \
  && git pull \
  && npm i && npm run build

  #Set working directory
  WORKDIR /usr/local/src/coinstac
